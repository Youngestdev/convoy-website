{{!< main}} 
<div class="page blog-page">
	<div class="main">
		<aside class="categories">
			

			<!-- Pending when there is enough content for this -->
			<!-- <form>
					<img src="../assets/images/search-icon.svg" alt="search icon" />
					<input type="search" placeholder="Search" />
				</form> -->

			<div class="social">
				<h3>Follow Us</h3>

				<ul class="socials">
					<li>
						<a target="_blank" rel="noopener noreferrer" href="https://join.slack.com/t/convoy-community/shared_invite/zt-xiuuoj0m-yPp..ylfYMCV9s038QL0IUQ">
							<img src="../assets/images/slack-grey-icon.svg" alt="slack logo" />
						</a>
					</li>
					<li>
						<a target="_blank" rel="noopener noreferrer" href="https://twitter.com/fraindev"><img src="../assets/images/twitter-grey-icon.svg" alt="twitter logo" /></a>
					</li>
					<li>
						<a target="_blank" rel="noopener noreferrer" href="https://github.com/frain-dev/convoy"><img src="../assets/images/github-grey-icon.svg" alt="mail logo" /></a>
					</li>
				</ul>
			</div>
		</aside>

		<main id="site-main" class="site-main outer">
			<div class="inner posts">

				<div class="post-feed{{#match @custom.feed_layout "List"}} list{{/match}}">
					{{#foreach posts}}

						{{!-- The tag below includes the markup for each post - partials/post-card.hbs --}}
						{{> "post-card"}}

					{{/foreach}}
				</div>

			</div>
		</main>

		<main>
			<div class="dropdown-container">
				<h1>
					All Posts
					<button @click="showCategories = !showCategories">
						<img src="../assets/images/angle-down-black-icon.svg" alt="arrow down iconn" />
					</button>
				</h1>
				<ul class="dropdown" v-if="showCategories">
					<li v-for="(tag, index) in tags" :key="'tag' + index">
						<nuxt-link :to="'/blog?tag=' + tag.slug">{{ tag.name }}</nuxt-link>
					</li>
				</ul>
			</div>

			{{!-- <div class="featured card posts" v-if="featurePosts.length > 0 && !tag">
				<div class="post">
					<div class="post--head">
						<div class="tag">FEATURED</div>
						<div class="date">{{ featurePosts[0].published_at | date }}</div>
					</div>
					<nuxt-link :to="'/blog/' + featurePosts[0].slug">
						<h3 class="post--title single-feature">{{ featurePosts[0].title }}</h3>
					</nuxt-link>
					<p class="post--body single-feature">{{ featurePosts[0].excerpt }}...</p>
					<div class="post--footer single-feature">
						<a :href="featurePosts[0].primary_author.twitter ? 'http://twitter.com/' + featurePosts[0].primary_author.twitter : ''" target="_blank" class="post--author">
							<div class="img">
								<img :src="featurePosts[0].primary_author.profile_image" alt="author imge" />
							</div>
							<div>
								<h5>{{ featurePosts[0].primary_author.name }}</h5>
								<p>{{ featurePosts[0].primary_author.meta_title }} Convoy</p>
							</div>
						</a>
						<nuxt-link :to="'/blog/' + featurePosts[0].slug">
							Read More
							<img src="../assets/images/angle-right-primary.svg" alt="read more icon" />
						</nuxt-link>
					</div>
				</div>
				<div class="img">
					<img :src="featurePosts[0].feature_image" alt="featured post img" />
				</div>
			</div> --}}

			<div class="posts">
				<Post v-for="(post, index) in posts.slice(0, 2)" :key="index" :post="post" />
			</div>

			<div class="newsletter card">
				<div>
					<h5>Join our newsletter</h5>
					<p>No spam! Just articles, events, and talks.</p>
					<form @submit.prevent="requestAccess()">
						<img src="../assets/images/mail-primary-icon.svg" alt="mail icon" />
						<input type="email" id="email" placeholder="Your email" aria-label="Email" v-model="earlyAccessEmail" />
						<button>
							<img src="../assets/images/send-primary-icon.svg" alt="send icon" />
						</button>
					</form>
				</div>
				<img src="../assets/images/mailbox.gif" alt="mailbox animation" />
			</div>

			<div class="posts">
				<Post v-for="(post, index) in posts.slice(2)" :key="index" :post="post" />
			</div>
		</main>
	</div>
</div>

{{!-- <script>
	const macosTabButton = document.querySelector('#macos-tab-button');
	const linuxTabButton = document.querySelector('#linux-tab-button');
	const windowsTabButton = document.querySelector('#windows-tab-button');
	const docsLink = document.querySelector('#docs-link');

	const linuxUbuntuTabButton = document.querySelector('#linux-ubuntu-tab-button');
	const linuxCentosTabButton = document.querySelector('#linux-centos-tab-button');

	const linuxUbuntuTabContent = document.querySelector('#linux-ubuntu-tab-content');
	const linuxCentosTabContent = document.querySelector('#linux-centos-tab-content');

	const macosTabContent = document.querySelector('#macos-tab-content');
	const linuxTabContent = document.querySelector('#linux-tab-content');
	const windowsTabContent = document.querySelector('#windows-tab-content');

	macosTabButton.addEventListener('click', () => {
		macosTabButton.classList.add('active');
		macosTabContent.removeAttribute('hidden');

		linuxTabButton.classList.remove('active');
		linuxTabContent.setAttribute('hidden', '');

		windowsTabButton.classList.remove('active');
		windowsTabContent.setAttribute('hidden', '');

		docsLink.classList.remove('hidden');
	})

	linuxTabButton.addEventListener('click', () => {
		linuxTabButton.classList.add('active');
		linuxTabContent.removeAttribute('hidden');

		macosTabButton.classList.remove('active');
		macosTabContent.setAttribute('hidden', '');

		windowsTabButton.classList.remove('active');
		windowsTabContent.setAttribute('hidden', '');

		docsLink.classList.remove('hidden');
	})

	windowsTabButton.addEventListener('click', () => {
		windowsTabButton.classList.add('active');
		windowsTabContent.removeAttribute('hidden');

		macosTabButton.classList.remove('active');
		macosTabContent.setAttribute('hidden', '');

		linuxTabButton.classList.remove('active');
		linuxTabContent.setAttribute('hidden', '');

		docsLink.classList.add('hidden');
	})

	linuxUbuntuTabButton.addEventListener('click', () => {
		linuxUbuntuTabButton.classList.add('active');
		linuxUbuntuTabContent.removeAttribute('hidden');

		linuxCentosTabButton.classList.remove('active');
		linuxCentosTabContent.setAttribute('hidden', '');
	})

	linuxCentosTabButton.addEventListener('click', () => {
		linuxCentosTabButton.classList.add('active');
		linuxCentosTabContent.removeAttribute('hidden');

		linuxUbuntuTabButton.classList.remove('active');
		linuxUbuntuTabContent.setAttribute('hidden', '');
	})
</script> --}}